<div class="flat-card-container">
  <div class="flat">
    <div>
      <img
        src="<%= @flat.poster_url %>"
        class="flat-img-left"
        alt="Photo of <%= @flat.name %>"
      />
    </div>
    <div class="flat-body">
      <div>
        <br>
        <h2><%= @flat.name %></h2>
        <p><%= @flat.address %></p>
        <h3><strong> â‚¬ <%= @flat.price %></strong> / night</h3>
        <p>
          <%= @flat.description %>
        </p>
        <br>
      </div>
      <div data-controller="toggle">
        <a class="app-button" href="#book_module" data-action="click->toggle#fire">
          ðŸ“… Choose a date
        </a>
        <div class="new-flat-form d-none" data-toggle-target="togglableElement">
          <h4  id="book_module">Select a date and book</h4>
          <%= simple_form_for [@flat, @booking] do |f| %>
            <%= f.input :start_date,
            as: :string,
            input_html: { data: { controller: "datepicker" } } %>
            <%= f.input :end_date,
            as: :string,
            input_html: { data: { controller: "datepicker" } } %>
            <%= f.submit "Book now", class: "app-button" %>
          <% end %>
        </div>
      </div>
      <br>
      <div>
        <a class="app-button-secondary" href="#">
          ðŸ©¶ Add to wishlist
        </a>
      </div>
    </div>
    </div>
</div>


<div style="width: 100%; height: 600px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
</div>

<div class="py-5"></div>
